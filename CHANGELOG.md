# Changelog

バージョン番号は [Semantic Versioning](https://semver.org/lang/ja/) に従います。

- **MAJOR**: 後方互換性のない変更
- **MINOR**: 後方互換性のある機能追加
- **PATCH**: 後方互換性のあるバグ修正

---

## [1.0.1] - 2026-02-24

### Added
- vpm-package-auto-installer 形式のパッケージをキューに追加した際、インストールされる VPM パッケージをサブエントリとして表示する機能
  - `.unitypackage` 内の `config.json` を事前に解析して `vpmDependencies` を取得
  - インポート後のドメインリロード時に `Packages/` フォルダの存在を確認し、インストール済みになると `[インストール済み ✓]` に更新

### Fixed
- DLL を含むパッケージ（vpm-package-auto-installer 等）のインポート時に複数回のドメインリロードが発生した場合、インポート済みエントリのステータスが「待機中」に戻る問題を修正
  - `OnDisable`（ドメインリロード前にも呼ばれる）で `ImportingEntryIndex` がリセットされていた原因を特定・修正
  - ドメインリロード前は `OnDisable` でイベント解除のみ行い、`ImportingEntryIndex` を保持してシリアライズに委ねる方式に変更
  - ウィンドウを実際に閉じた場合は `OnDestroy` で正しくリセットするよう対応
- ZIP 由来のエントリを「すべてインポート」する際、一時ファイルが削除済みの場合に "Couldn't decompress package" エラーになる問題を修正
  - 一度失敗したエントリを再インポートするとき、元の ZIP から一時ファイルを再展開するよう変更
  - `ImportNext()` でインポート前にファイル存在チェックを追加（安全策）
- 「すべてインポート」実行時に「完了」済みのエントリが再インポートされる問題を修正

## [1.0.0] - 2026-02-22

### Added
- 初回正式リリース
- `.unitypackage` ファイルの一括インポート機能
- ドラッグ＆ドロップでのファイル追加（`.unitypackage` / `.zip` / フォルダ）
- ファイル選択ダイアログ・フォルダ選択によるファイル追加
- ZIP ファイル内の `.unitypackage` を直接インポートする機能
  - ZIP 展開は一時フォルダに行い、インポート完了後に自動削除
- フォルダを再帰的にスキャンして配下の `.unitypackage` / `.zip` を一括追加
- インポートダイアログ表示/非表示のトグル切り替え
- インポート状態の表示（待機中 / インポート中 / 完了 / 失敗 / キャンセル）
- 各ファイルの有効/無効切り替え（チェックボックス）
- インポート中のキャンセル機能
- 全件完了時の通知音再生
- 通知音の ON/OFF 設定
- カスタム音声ファイルの指定（WAV / MP3 / M4A）
- ファイル・フォルダ選択ダイアログが前回開いたディレクトリを記憶
- ドメインリロード後もインポートキューのリスト・状態を保持
- CI/CD によるビルド・型チェック・テスト自動化（xUnit）
